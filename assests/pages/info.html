

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tour Details</title>
<link rel="stylesheet" href="../../css/info.css">
</head>
<body>
  <div class="details-container">
    <div class="tour-info">
      <h1 id="tour-title">Loading...</h1>
      <p id="tour-location"></p>
      <div class="details">
        <p><strong>Duration:</strong> <span id="tour-duration"></span></p>
        <p><strong>Tour Type:</strong> Daily Tour</p>
        <p><strong>Group Size:</strong> Unlimited</p>
        <p><strong>Languages:</strong> English</p>
      </div>
      <img id="tour-image" alt="Tour Image">
    </div>
    <div class="enquiry-section">
      <h2>Stay Connected</h2>
      <p>ðŸ“ž +91 9344946575</p>
      <p>ðŸ“§ travelworld@gmail.com</p>
      <form>
        <label for="name">Name *</label>
        <input type="text" id="name" placeholder="Enter your name" required>

        <label for="city">City of Residence *</label>
        <input type="text" id="city" placeholder="Enter your city" required>

        <label for="email">Email *</label>
        <input type="email" id="email" placeholder="Enter your email" required>

        <label for="phone">Phone Number *</label>
        <input type="tel" id="phone" placeholder="Enter your phone number" required>

        <label for="destination">Travel Destination *</label>
        <input type="text" id="destination" placeholder="Enter travel destination" required>

        <label for="date">Date of Travel *</label>
        <input type="date" id="date" required>

        <label for="people">No. of People *</label>
        <input type="number" id="people" placeholder="Enter number of people" required>

        <button type="submit">Submit</button>
      </form>
    </div>
  </div>
  <script>

const queryParams = new URLSearchParams(window.location.search);
const category = queryParams.get('category');
const index = queryParams.get('index');

// Log values for debugging
console.log('Category:', category);
console.log('Index:', index);

// Fetch and display the data
fetch('../json/navjson.json')
    .then(response => response.json())
    .then(data => {
        const tours = data[category];
        if (!tours) {
            document.body.innerHTML = '<h1>Invalid category selected. Please try again.</h1>';
            return;
        }

        const tour = tours[index];
        if (tour) {
            document.getElementById('tour-title').textContent = tour.name;
            document.getElementById('tour-location').textContent = tour.location?.state || 'Location not available';
            document.getElementById('tour-duration').textContent = tour.duration || 'Duration not available';
            document.getElementById('tour-image').src = tour.image_url || 'placeholder.jpg';
            document.getElementById('tour-image').alt = tour.name || 'Tour image';
        } else {
            document.body.innerHTML = '<h1>Tour not found</h1>';
        }
    })
    .catch(error => {
        console.error('Error fetching tour details:', error);
        document.body.innerHTML = '<h1>Error loading tour details. Please try again later.</h1>';
    });


    document.querySelector('form').addEventListener('submit', function (event) {
    event.preventDefault(); // Prevent default form submission behavior

    // Get user-provided details from the form
    const name = document.getElementById('name').value.trim();
    const city = document.getElementById('city').value.trim();
    const email = document.getElementById('email').value.trim();
    const phone = document.getElementById('phone').value.trim();
    const destination = document.getElementById('destination').value.trim();
    const date = document.getElementById('date').value.trim();
    const people = document.getElementById('people').value.trim();

    // Get tour details
    const tourTitle = document.getElementById('tour-title').textContent.trim();
    const tourLocation = document.getElementById('tour-location').textContent.trim();
    const tourDuration = document.getElementById('tour-duration').textContent.trim();

    // Construct query parameters
    const queryParams = new URLSearchParams({
        name,
        city,
        email,
        phone,
        destination,
        date,
        people,
        tourTitle,
        tourLocation,
        tourDuration,
    }).toString();

    // Redirect to the payment page with the query parameters
    window.location.href = `../pages/payment.html?${queryParams}`;
});
    </script>

</body>  
</html>
