<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TravWorld</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Header -->
    <header>
        <div class="logo">
            <img src="./assests/images/airplane-around-earth.png" alt="TravWorld Logo">
        </div>
        <!-- Navigation Menu -->
        <nav>
            <ul class="nav-links">
                <li class="dropdown">
                    <a href="#" class="dropbtn">Places</a>
                    <div class="dropdown-content">
                        <a href="./assests/pages/historical.html">Historical</a>
                        <a href="./something.html">Adventures</a>
                        <a href="./something.html">Beaches</a>
                        <a href="./something.html">Mountains</a>
                    </div>
                </li>
                <li><a href="./assests/pages/tour.html" class="tours">Tours</a></li>
            </ul>
            <div class="login-register">
                <a href="./assests/pages/login.html">
                    <img src="./assests/images/profile_img.png" alt="Profile Icon">
                </a>
            </div>
            <!-- Mobile Menu Icon -->
            <button class="menu-icon" onclick="toggleMenu()">‚ò∞</button>
        </nav>
    </header>

    <!-- Hero Section -->
    <main>
        <div class="hero">
            <img src="./assests/images/dhanush2.avif" alt="Travel Banner">
            <div class="hero-text">
                <h2>TravWorld</h2>
                <p>Let's Travel And Explore</p>
            </div>
            <!-- Search Bar -->
    <div class="search-container">
        <input type="text" placeholder="Search destinations..." id="searchBar">
        <button type="submit" onclick="searchDestinations()">Search</button>
    </div>

        </div>
    </main>

    <section class="popular-packages">
      <h1>Popular Packages</h1>
      <div class="package-grid" id="tourContainer"></div>
  </section> 
  
  
  

    <!-- Features Section -->
    <section class="features">
      <div class="feature">
        <div class="icon">
          <img src="./assests/images/airplane-around-earth.png" alt="Abroad Trips Icon">
        </div>
        <h3>Launching Inspiring Journeys</h3>
        <p>Embark on unique adventures crafted to ignite your wanderlust, tailored to your preferences.</p>
      </div>
    
      <div class="feature">
        <div class="icon">
          <img src="./assests/images/man.png" alt="Handcrafted Experiences Icon">
        </div>
        <h3>Personalized Travel Experiences</h3>
        <p>Every itinerary is thoughtfully curated to match your travel dreams and preferences.</p>
      </div>
    
      <div class="feature">
        <div class="icon">
          <img src="./assests/images/destination.png" alt="Happy Travellers Icon">
        </div>
        <h3>Extremely Happy Travellers</h3>
        <p>Our focus is on delighting customers with exceptional journeys, building trust as your travel partner.</p>
      </div>
    </section>
    
    

    <!-- Welcome Section -->
    <section class="experience">
        <h1>Welcome to TravWorld</h1>
        <p>
            "TravWorld started with a big dream: to make travel personal and unforgettable for everyone. Our team is made up of passionate travelers and experts who love helping others explore the world. We focus on creating unique travel plans that match your interests, making every trip special and stress-free.
        </p>
        <p>
            At TravWorld, we don‚Äôt just plan trips‚Äîwe help you create memories, share stories, and discover new adventures. With a focus on friendly service and smart solutions, we‚Äôre here to make your travel dreams come true."
        </p>
    </section>

    <!-- Enquiry Form -->
    <div class="enquiry-form-container">
        <h2>Enquire with Us</h2>
        <form action="#" method="post">
            <div class="form-group">
                <label for="name">Name:</label>
                <input type="text" id="name" name="name" placeholder="Enter your full name" required>
            </div>
            <div class="form-group">
                <label for="email">Email:</label>
                <input type="email" id="email" name="email" placeholder="Enter your email address" required>
            </div>
            <div class="form-group">
                <label for="phone">Phone:</label>
                <input type="tel" id="phone" name="phone" placeholder="Enter your phone number">
            </div>
            <div class="form-group">
                <label for="message">Message:</label>
                <textarea id="message" name="message" rows="5" placeholder="Write your message here" required></textarea>
            </div>
            <button type="submit" class="submit-btn">Send Message</button>
        </form>
    </div>
    <footer>
        <div class="footer-top">
          <h3>Explore the World with Us</h3>
        </div>
        <hr>
        <div class="footer-contact">
          <h4>Contact Us</h4>
          <p>
            üìç 123 Travel Street, Wanderlust City|
            üìß <a href="mailto:info@travelwebsite.com">info@travelwebsite.com</a>|
            üìû <a href="tel:+123456789">+1 (234) 567-890</a>
          </p>
        </div>
        <div class="footer-bottom">
          <p>¬© TravelWebsite 2024. All Rights Reserved.</p>
          <p>Love Travel? Subscribe to our newsletter</p>
        </div>
      </footer>
    <!-- JavaScript -->
    <script>
        // Global variable to store tours data
        let toursData = [];
    
        // Fetch data from the JSON file
        fetch('./assests/places.json')
            .then(response => {
                if (!response.ok) {
                    throw new Error('Network response was not ok');
                }
                return response.json();
            })
            .then(tours => {
                toursData = tours; // Store the tours globally
    
                const tourContainer = document.getElementById('tourContainer');
                tours.forEach((tour, index) => {
                    const tourCard = document.createElement('div');
                    tourCard.classList.add('package');
                    tourCard.innerHTML = `
                        <img src="${tour.image}" alt="${tour.title}">
                        <div class="package-info">
                            <h2>${tour.title}</h2>
                            <h4>${tour.subtitle}</h4>
                            <p>${tour.description.slice(0, 100)}...</p>
                            <button onclick="goToDetailsPage(${index})">${tour.cta || 'Know More'}</button>
                        </div>
                    `;
                    tourContainer.appendChild(tourCard);
                });
            })
            .catch(error => {
                console.error('Error fetching the tours data:', error);
            });
    
        // Navigate to details page
        function goToDetailsPage(index) {
            const selectedTour = toursData[index];
    
            // Store the selected tour data in localStorage
            localStorage.setItem('selectedTour', JSON.stringify(selectedTour));
    
            // Redirect to details.html (or your detailed page)
            window.location.href = './check.html';
        }

  //FORM VALIDATION
  document.getElementById('enquiryForm').addEventListener('submit', function(event) {
    event.preventDefault(); // Prevent default submission for validation

    const name = document.getElementById('name').value.trim();
    const email = document.getElementById('email').value.trim();
    const phone = document.getElementById('phone').value.trim();
    const message = document.getElementById('message').value.trim();

    if (name === "" || name.length < 2) {
        alert("Please enter a valid name (at least 2 characters).");
        return;
    }

    const emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    if (!emailPattern.test(email)) {
        alert("Please enter a valid email address.");
        return;
    }

    if (phone !== "" && !/^\+?\d{10,15}$/.test(phone)) {
        alert("Please enter a valid phone number (10-15 digits, optional +).");
        return;
    }

    if (message.length < 10) {
        alert("Your message should be at least 10 characters long.");
        return;
    }

    // Submit the form if validation passes
    this.submit();
});


//search bar
function searchDestinations() {
        const query = document.getElementById('searchBar').value.trim().toLowerCase();
        const tourContainer = document.getElementById('tourContainer');

        // Clear the current displayed tours
        tourContainer.innerHTML = '';

        // Filter tours based on the query
        const filteredTours = toursData.filter(tour =>
            tour.title.toLowerCase().includes(query) ||
            tour.subtitle.toLowerCase().includes(query) ||
            tour.description.toLowerCase().includes(query)
        );

        // Display filtered results or show "No results"
        if (filteredTours.length > 0) {
            filteredTours.forEach((tour, index) => {
                const tourCard = document.createElement('div');
                tourCard.classList.add('package');
                tourCard.innerHTML = `
                    <img src="${tour.image}" alt="${tour.title}">
                    <div class="package-info">
                        <h2>${tour.title}</h2>
                        <h4>${tour.subtitle}</h4>
                        <p>${tour.description.slice(0, 100)}...</p>
                        <button onclick="goToDetailsPage(${toursData.indexOf(tour)})">${tour.cta || 'Know More'}</button>
                    </div>
                `;
                tourContainer.appendChild(tourCard);
            });
        } else {
            tourContainer.innerHTML = '<p>No destinations found. Please try a different search.</p>';
        }
    }


    </script> 
</body>
</html>

